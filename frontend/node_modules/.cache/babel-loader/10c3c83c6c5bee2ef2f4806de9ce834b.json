{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\HP TH\\\\Desktop\\\\lost and found\\\\frontend\\\\src\\\\Components\\\\Feed.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Navbar from \"../Components/Navbar\";\nimport \"../css/feed.css\";\nimport \"../css/item_card.css\";\nimport Axios from \"axios\";\nimport { Card, Col, Container, Row } from \"react-bootstrap\";\nexport default function Feed() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const [user_info, setuser_info] = useState(JSON.parse(localStorage.getItem(\"user\")));\n  const [item, setitem] = useState(\"\");\n  const [Found_item, setFound_item] = useState();\n\n  const ReadMore = ({\n    children\n  }) => {\n    _s();\n\n    const text = children;\n    const [isReadMore, setIsReadMore] = useState(true);\n\n    const toggleReadMore = () => {\n      setIsReadMore(!isReadMore);\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: \"1rem\"\n      },\n      className: \"text\",\n      children: [isReadMore ? text.slice(0, 15) : text, /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: toggleReadMore,\n        className: \"read-or-hide\",\n        children: isReadMore ? \"....\" : \" show less\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this);\n  };\n\n  _s(ReadMore, \"ZXM2B4A2wvZoaix7Dpb8ksgPwlY=\");\n\n  useEffect(() => {\n    Axios({\n      url: \"http://localhost:5000/getitem\",\n      method: \"GET\"\n    }).then(response => {\n      let data = response.data.postitems;\n      let items = [];\n      let Found_items = [];\n      data.reverse().map(item => {\n        let created_date = new Date(item.createdAt);\n        let createdAt = created_date.getDate() + \"/\" + (created_date.getMonth() + 1) + // Fixed month index\n        \"/\" + created_date.getFullYear() + \" \" + created_date.getHours() + \":\" + created_date.getMinutes(); // Get the correct image URL\n\n        let imageUrl = \"\";\n\n        if (item.itemPictures && item.itemPictures.length > 0 && item.itemPictures[0].img) {\n          // FIX: Use consistent URL format for all images\n          imageUrl = `http://localhost:5000/uploads/${item.itemPictures[0].img}`;\n        } else {\n          // Fallback image if no image is available\n          imageUrl = \"https://via.placeholder.com/150?text=No+Image\";\n        }\n\n        if (item.type === \"Lost\" && item.status === true) {\n          let user = false;\n\n          if (item.createdBy === user_info._id) {\n            user = true;\n          }\n\n          items.push( /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `/${item.name}?cid=${item._id}&type=${item.type}/${user}`,\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              style: {\n                marginTop: \"2%\"\n              },\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                bsPrefix: \"item-card\",\n                children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n                  variant: \"top\",\n                  src: imageUrl,\n                  style: {\n                    height: \"200px\",\n                    objectFit: \"cover\"\n                  },\n                  onError: e => {\n                    e.target.src = \"https://via.placeholder.com/150?text=Image+Error\";\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                  bsPrefix: \"card-body\",\n                  children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                    style: {\n                      fontFamily: \"'Noto Sans JP', sans-serif\",\n                      fontWeight: \"1.35rem\"\n                    },\n                    children: [\"Item :\", item.name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 86,\n                    columnNumber: 23\n                  }, this), item.description ? /*#__PURE__*/_jsxDEV(Card.Text, {\n                    style: {\n                      fontFamily: \"'Noto Sans JP', sans-serif\",\n                      fontSize: \"1rem\"\n                    },\n                    children: [\" \", \"Description :\", /*#__PURE__*/_jsxDEV(ReadMore, {\n                      children: item.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 102,\n                      columnNumber: 40\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 25\n                  }, this) : \"\", /*#__PURE__*/_jsxDEV(Card.Text, {\n                    style: {\n                      fontFamily: \"'Noto Sans JP', sans-serif\",\n                      fontSize: \"1rem\"\n                    },\n                    children: [\"Created at : \", createdAt]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }, this)\n          }, item._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this));\n        } else {\n          var user1 = false;\n\n          if (item.createdBy === user_info._id) {\n            user1 = true;\n          }\n\n          Found_items.push( /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `/${item.name}?cid=${item._id}&type=${item.type}/${user1}`,\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              style: {\n                marginTop: \"2%\"\n              },\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                bsPrefix: \"item-card\",\n                children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n                  variant: \"top\",\n                  src: imageUrl // FIX: Use the same URL format\n                  ,\n                  style: {\n                    height: \"200px\",\n                    objectFit: \"cover\"\n                  },\n                  onError: e => {\n                    e.target.src = \"https://via.placeholder.com/150?text=Image+Error\";\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                  bsPrefix: \"card-body\",\n                  children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                    style: {\n                      fontFamily: \"'Noto Sans JP', sans-serif\",\n                      fontWeight: \"1.35rem\"\n                    },\n                    children: [\"Item :\", item.name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 142,\n                    columnNumber: 23\n                  }, this), item.description ? /*#__PURE__*/_jsxDEV(Card.Text, {\n                    style: {\n                      fontFamily: \"'Noto Sans JP', sans-serif\",\n                      fontSize: \"1rem\"\n                    },\n                    children: [\" \", \"Description :\", /*#__PURE__*/_jsxDEV(ReadMore, {\n                      children: item.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 158,\n                      columnNumber: 40\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 25\n                  }, this) : \"\", /*#__PURE__*/_jsxDEV(Card.Text, {\n                    style: {\n                      fontFamily: \"'Noto Sans JP', sans-serif\",\n                      fontSize: \"1rem\"\n                    },\n                    children: [\"Created at : \", createdAt]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 17\n            }, this)\n          }, item._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 15\n          }, this));\n        }\n      });\n      setitem(items);\n      setFound_item(Found_items);\n    }).catch(err => {\n      console.log(\"Error :\", err);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          fontFamily: \"'Noto Sans JP', sans-serif\",\n          marginLeft: \"5px\"\n        },\n        children: [\"Welcome \", user_info.firstname, \" \\uD83D\\uDC4B!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        fluid: true,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: \"Lost items :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title-border\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: item\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        fluid: true,\n        children: Found_item ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: \"center\"\n            },\n            children: \"Found items :\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"title-border\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: Found_item\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this) : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(Feed, \"Y5RG/LuSJu9dEwRqD3QFDodU8oc=\");\n\n_c = Feed;\n\nvar _c;\n\n$RefreshReg$(_c, \"Feed\");","map":{"version":3,"sources":["C:/Users/HP TH/Desktop/lost and found/frontend/src/Components/Feed.js"],"names":["React","useEffect","useState","Navbar","Axios","Card","Col","Container","Row","Feed","user_info","setuser_info","JSON","parse","localStorage","getItem","item","setitem","Found_item","setFound_item","ReadMore","children","text","isReadMore","setIsReadMore","toggleReadMore","fontSize","slice","url","method","then","response","data","postitems","items","Found_items","reverse","map","created_date","Date","createdAt","getDate","getMonth","getFullYear","getHours","getMinutes","imageUrl","itemPictures","length","img","type","status","user","createdBy","_id","push","name","marginTop","height","objectFit","e","target","src","fontFamily","fontWeight","description","user1","catch","err","console","log","marginLeft","firstname","textAlign"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Navbar from \"../Components/Navbar\";\r\nimport \"../css/feed.css\";\r\nimport \"../css/item_card.css\";\r\nimport Axios from \"axios\";\r\nimport { Card, Col, Container, Row } from \"react-bootstrap\";\r\n\r\nexport default function Feed() {\r\n  const [user_info, setuser_info] = useState(\r\n    JSON.parse(localStorage.getItem(\"user\"))\r\n  );\r\n  const [item, setitem] = useState(\"\");\r\n  const [Found_item, setFound_item] = useState();\r\n  \r\n  const ReadMore = ({ children }) => {\r\n    const text = children;\r\n    const [isReadMore, setIsReadMore] = useState(true);\r\n    const toggleReadMore = () => {\r\n      setIsReadMore(!isReadMore);\r\n    };\r\n    return (\r\n      <p style={{ fontSize: \"1rem\" }} className=\"text\">\r\n        {isReadMore ? text.slice(0, 15) : text}\r\n        <span onClick={toggleReadMore} className=\"read-or-hide\">\r\n          {isReadMore ? \"....\" : \" show less\"}\r\n        </span>\r\n      </p>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    Axios({\r\n      url: \"http://localhost:5000/getitem\",\r\n      method: \"GET\",\r\n    })\r\n      .then((response) => {\r\n        let data = response.data.postitems;\r\n        let items = [];\r\n        let Found_items = [];\r\n        \r\n        data.reverse().map((item) => {\r\n          let created_date = new Date(item.createdAt);\r\n          let createdAt =\r\n            created_date.getDate() +\r\n            \"/\" +\r\n            (created_date.getMonth() + 1) + // Fixed month index\r\n            \"/\" +\r\n            created_date.getFullYear() +\r\n            \" \" +\r\n            created_date.getHours() +\r\n            \":\" +\r\n            created_date.getMinutes();\r\n            \r\n          // Get the correct image URL\r\n          let imageUrl = \"\";\r\n          if (item.itemPictures && item.itemPictures.length > 0 && item.itemPictures[0].img) {\r\n            // FIX: Use consistent URL format for all images\r\n            imageUrl = `http://localhost:5000/uploads/${item.itemPictures[0].img}`;\r\n          } else {\r\n            // Fallback image if no image is available\r\n            imageUrl = \"https://via.placeholder.com/150?text=No+Image\";\r\n          }\r\n          \r\n          if (item.type === \"Lost\" && item.status === true) {\r\n            let user = false;\r\n            if (item.createdBy === user_info._id) {\r\n              user = true;\r\n            }\r\n            \r\n            items.push(\r\n              <a\r\n                href={`/${item.name}?cid=${item._id}&type=${item.type}/${user}`}\r\n                key={item._id}\r\n              >\r\n                <Col style={{ marginTop: \"2%\" }} md={3}>\r\n                  <Card bsPrefix=\"item-card\">\r\n                    <Card.Img\r\n                      variant=\"top\"\r\n                      src={imageUrl}\r\n                      style={{ height: \"200px\", objectFit: \"cover\" }}\r\n                      onError={(e) => {\r\n                        e.target.src = \"https://via.placeholder.com/150?text=Image+Error\";\r\n                      }}\r\n                    />\r\n                    <Card.Body bsPrefix=\"card-body\">\r\n                      <Card.Title\r\n                        style={{\r\n                          fontFamily: \"'Noto Sans JP', sans-serif\",\r\n                          fontWeight: \"1.35rem\",\r\n                        }}\r\n                      >\r\n                        Item :{item.name}\r\n                      </Card.Title>\r\n                      {item.description ? (\r\n                        <Card.Text\r\n                          style={{\r\n                            fontFamily: \"'Noto Sans JP', sans-serif\",\r\n                            fontSize: \"1rem\",\r\n                          }}\r\n                        >\r\n                          {\" \"}\r\n                          Description :<ReadMore>{item.description}</ReadMore>\r\n                        </Card.Text>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                      <Card.Text\r\n                        style={{\r\n                          fontFamily: \"'Noto Sans JP', sans-serif\",\r\n                          fontSize: \"1rem\",\r\n                        }}\r\n                      >\r\n                        Created at : {createdAt}\r\n                      </Card.Text>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </Col>\r\n              </a>\r\n            );\r\n          } else {\r\n            var user1 = false;\r\n            if (item.createdBy === user_info._id) {\r\n              user1 = true;\r\n            }\r\n            \r\n            Found_items.push(\r\n              <a\r\n                href={`/${item.name}?cid=${item._id}&type=${item.type}/${user1}`}\r\n                key={item._id}\r\n              >\r\n                <Col style={{ marginTop: \"2%\" }} md={3}>\r\n                  <Card bsPrefix=\"item-card\">\r\n                    <Card.Img\r\n                      variant=\"top\"\r\n                      src={imageUrl} // FIX: Use the same URL format\r\n                      style={{ height: \"200px\", objectFit: \"cover\" }}\r\n                      onError={(e) => {\r\n                        e.target.src = \"https://via.placeholder.com/150?text=Image+Error\";\r\n                      }}\r\n                    />\r\n                    <Card.Body bsPrefix=\"card-body\">\r\n                      <Card.Title\r\n                        style={{\r\n                          fontFamily: \"'Noto Sans JP', sans-serif\",\r\n                          fontWeight: \"1.35rem\",\r\n                        }}\r\n                      >\r\n                        Item :{item.name}\r\n                      </Card.Title>\r\n                      {item.description ? (\r\n                        <Card.Text\r\n                          style={{\r\n                            fontFamily: \"'Noto Sans JP', sans-serif\",\r\n                            fontSize: \"1rem\",\r\n                          }}\r\n                        >\r\n                          {\" \"}\r\n                          Description :<ReadMore>{item.description}</ReadMore>\r\n                        </Card.Text>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                      <Card.Text\r\n                        style={{\r\n                          fontFamily: \"'Noto Sans JP', sans-serif\",\r\n                          fontSize: \"1rem\",\r\n                        }}\r\n                      >\r\n                        Created at : {createdAt}\r\n                      </Card.Text>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </Col>\r\n              </a>\r\n            );\r\n          }\r\n        });\r\n        setitem(items);\r\n        setFound_item(Found_items);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Error :\", err);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Navbar />\r\n        <h2\r\n          style={{\r\n            fontFamily: \"'Noto Sans JP', sans-serif\",\r\n            marginLeft: \"5px\",\r\n          }}\r\n        >\r\n          Welcome {user_info.firstname} 👋!\r\n        </h2>\r\n      </div>\r\n      <div>\r\n        <Container fluid>\r\n          <h2 style={{ textAlign: \"center\" }}>Lost items :</h2>\r\n          <div className=\"title-border\"></div>\r\n          <Row>{item}</Row>\r\n        </Container>\r\n      </div>\r\n      <div>\r\n        <Container fluid>\r\n          {Found_item ? (\r\n            <div>\r\n              <h2 style={{ textAlign: \"center\" }}>Found items :</h2>\r\n              <div className=\"title-border\"></div>\r\n              <Row>{Found_item}</Row>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </Container>\r\n      </div>\r\n    </div>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}