{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\HP TH\\\\Desktop\\\\lost and found\\\\lfs-frontend\\\\src\\\\Components\\\\Lost_item.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport lodash from \"lodash\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { useToasts } from \"react-toast-notifications\";\nimport { Button, Modal, Form, Spinner } from \"react-bootstrap\";\n\nfunction LostItem() {\n  _s();\n\n  const [show, setShow] = useState(false);\n  const {\n    addToast\n  } = useToasts();\n  const token = window.localStorage.getItem(\"token\");\n  const [loading, setloading] = useState(false);\n  const [itemname, setitemname] = useState(\"\");\n  const [description, setdescription] = useState(\"\");\n  const [itemquestion, setitemquestion] = useState(\"\");\n  const [itemimage, setitemimage] = useState([]);\n  const [type, settype] = useState(\"\"); // const [alertshow, setalertShow] = useState(true);\n\n  const handleShow = () => setShow(true);\n\n  const handleClose = () => {\n    setloading(true); // const form = new FormData();\n    // form.append(\"name\", itemname);\n    // form.append(\"description\", description);\n    // form.append('itemPictures',itemname)\n    // const payload = {\n    //   name: itemname,\n    //   description: description,\n    //   type:type,\n    //   itemPictures: itemimage,\n    // };\n    // console.log(payload)\n\n    if (itemname && description && type) {\n      // console.log(\"Item image : \", itemimage);\n      const info = new FormData();\n      info.append(\"name\", itemname);\n      info.append(\"description\", description);\n      info.append(\"question\", itemquestion);\n      info.append(\"type\", type);\n      itemimage.map(itemImage => {\n        info.append(\"itemPictures\", itemImage, itemImage.name);\n      });\n      axios({\n        url: \"https://lfs-backend.herokuapp.com/postitem\",\n        method: \"POST\",\n        data: info,\n        headers: {\n          Authorization: token ? `Bearer ${token}` : \"\"\n        },\n        onUploadProgress: ProgressEvent => {\n          console.log(\"Upload progress: \" + Math.round(ProgressEvent.loaded / ProgressEvent.total * 100) + \"%\");\n        } // url: \"http://localhost:5000/login\"\n\n      }).then(response => {\n        console.log(response);\n      }).then(() => {\n        // eslint-disable-next-line no-lone-blocks\n        addToast(\"Wohoo ðŸ¤©! Item listed successfully.\", {\n          appearance: \"success\"\n        });\n        setitemname(\"\");\n        setdescription(\"\");\n        settype(\"\");\n        setitemquestion(\"\");\n        setitemimage([]); // console.log(\"Executed\");\n\n        setloading(false);\n        setShow(false);\n      }).catch(err => {\n        setloading(false);\n        console.log(err);\n        addToast(\"Oops ðŸ˜ž! Check internet connection or try again later.\", {\n          appearance: \"error\"\n        });\n      });\n    } else {\n      addToast(\"Did you missed any of the required fields ðŸ™„?\", {\n        appearance: \"error\"\n      });\n    }\n  };\n\n  const temporaryShut = () => {\n    addToast(\"New item listing has been disabled temporarily.\", {\n      appearance: \"warning\"\n    });\n    setShow(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      variant: \"primary\",\n      onClick: handleShow,\n      children: \"Post Item\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: () => setShow(false),\n      backdrop: \"static\",\n      keyboard: false,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Post item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [\"Item name\", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"red\"\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 26\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter item\",\n              value: itemname,\n              onChange: e => setitemname(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [\"Description\", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"red\"\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 28\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"textarea\",\n              placeholder: \"Enter Description\",\n              value: description,\n              onChange: e => setdescription(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Enter a question based on the item\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Ex:- What is the color of the phone ?\",\n              value: itemquestion,\n              onChange: e => setitemquestion(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [\"Item type\", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"red\"\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 26\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"select\",\n              required: true,\n              defaultValue: \"Choose...\",\n              onChange: e => settype(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Choose..\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Lost\",\n                children: \"Lost It\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Found\",\n                children: \"Found It\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: /*#__PURE__*/_jsxDEV(Form.File, {\n              type: \"file\",\n              id: \"formimage\",\n              label: \"Upload Image\",\n              onChange: e => {\n                // console.log(e.target.files)\n                let {\n                  files\n                } = e.target;\n                lodash.forEach(files, file => {\n                  // console.log(file);\n                  setitemimage(item => [...item, file]);\n                });\n              },\n              multiple: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: () => setShow(false),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: temporaryShut,\n          children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Spinner, {\n              as: \"span\",\n              animation: \"border\",\n              size: \"sm\",\n              role: \"status\",\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"sr-only\",\n              children: \"Loading...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: \"Submit\"\n          }, void 0, false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LostItem, \"nJwaQ6Y2noeShFdHgDOT2cRfhTI=\", false, function () {\n  return [useToasts];\n});\n\n_c = LostItem;\nexport default LostItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"LostItem\");","map":{"version":3,"sources":["C:/Users/HP TH/Desktop/lost and found/lfs-frontend/src/Components/Lost_item.js"],"names":["React","useState","axios","lodash","useToasts","Button","Modal","Form","Spinner","LostItem","show","setShow","addToast","token","window","localStorage","getItem","loading","setloading","itemname","setitemname","description","setdescription","itemquestion","setitemquestion","itemimage","setitemimage","type","settype","handleShow","handleClose","info","FormData","append","map","itemImage","name","url","method","data","headers","Authorization","onUploadProgress","ProgressEvent","console","log","Math","round","loaded","total","then","response","appearance","catch","err","temporaryShut","color","e","target","value","files","forEach","file","item"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport lodash from \"lodash\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\nimport { Button, Modal, Form, Spinner } from \"react-bootstrap\";\r\nfunction LostItem() {\r\n  const [show, setShow] = useState(false);\r\n  const { addToast } = useToasts();\r\n  const token = window.localStorage.getItem(\"token\");\r\n  const [loading, setloading] = useState(false);\r\n  const [itemname, setitemname] = useState(\"\");\r\n  const [description, setdescription] = useState(\"\");\r\n  const [itemquestion, setitemquestion] = useState(\"\");\r\n  const [itemimage, setitemimage] = useState([]);\r\n  const [type, settype] = useState(\"\");\r\n  // const [alertshow, setalertShow] = useState(true);\r\n\r\n  const handleShow = () => setShow(true);\r\n  const handleClose = () => {\r\n    setloading(true);\r\n    // const form = new FormData();\r\n    // form.append(\"name\", itemname);\r\n    // form.append(\"description\", description);\r\n    // form.append('itemPictures',itemname)\r\n    // const payload = {\r\n    //   name: itemname,\r\n    //   description: description,\r\n    //   type:type,\r\n    //   itemPictures: itemimage,\r\n    // };\r\n    // console.log(payload)\r\n    if (itemname && description && type) {\r\n      // console.log(\"Item image : \", itemimage);\r\n      const info = new FormData();\r\n      info.append(\"name\", itemname);\r\n      info.append(\"description\", description);\r\n      info.append(\"question\", itemquestion);\r\n      info.append(\"type\", type);\r\n      itemimage.map((itemImage) => {\r\n        info.append(\"itemPictures\", itemImage, itemImage.name);\r\n      });\r\n\r\n      axios({\r\n        url: \"https://lfs-backend.herokuapp.com/postitem\",\r\n        method: \"POST\",\r\n        data: info,\r\n        headers: {\r\n          Authorization: token ? `Bearer ${token}` : \"\",\r\n        },\r\n        onUploadProgress: (ProgressEvent) => {\r\n          console.log(\r\n            \"Upload progress: \" +\r\n              Math.round((ProgressEvent.loaded / ProgressEvent.total) * 100) +\r\n              \"%\"\r\n          );\r\n        },\r\n        // url: \"http://localhost:5000/login\"\r\n      })\r\n        .then((response) => {\r\n          console.log(response);\r\n        })\r\n        .then(() => {\r\n          // eslint-disable-next-line no-lone-blocks\r\n          addToast(\"Wohoo ðŸ¤©! Item listed successfully.\", {\r\n            appearance: \"success\",\r\n          });\r\n          setitemname(\"\");\r\n          setdescription(\"\");\r\n          settype(\"\");\r\n          setitemquestion(\"\");\r\n          setitemimage([]);\r\n          // console.log(\"Executed\");\r\n          setloading(false);\r\n          setShow(false);\r\n        })\r\n        .catch((err) => {\r\n          setloading(false);\r\n          console.log(err);\r\n          addToast(\"Oops ðŸ˜ž! Check internet connection or try again later.\", {\r\n            appearance: \"error\",\r\n          });\r\n        });\r\n    } else {\r\n      addToast(\"Did you missed any of the required fields ðŸ™„?\", {\r\n        appearance: \"error\",\r\n      });\r\n    }\r\n  };\r\n  const temporaryShut = () => {\r\n    addToast(\"New item listing has been disabled temporarily.\", {\r\n      appearance: \"warning\",\r\n    });\r\n    setShow(false);\r\n  };\r\n  return (\r\n    <div>\r\n      <Button variant=\"primary\" onClick={handleShow}>\r\n        Post Item\r\n      </Button>\r\n\r\n      <Modal\r\n        show={show}\r\n        onHide={() => setShow(false)}\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Post item</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form>\r\n            <Form.Group>\r\n              <Form.Label>\r\n                Item name<span style={{ color: \"red\" }}>*</span>\r\n              </Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Enter item\"\r\n                value={itemname}\r\n                onChange={(e) => setitemname(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n\r\n            <Form.Group>\r\n              <Form.Label>\r\n                Description<span style={{ color: \"red\" }}>*</span>\r\n              </Form.Label>\r\n              <Form.Control\r\n                as=\"textarea\"\r\n                placeholder=\"Enter Description\"\r\n                value={description}\r\n                onChange={(e) => setdescription(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n\r\n            <Form.Group>\r\n              <Form.Label>Enter a question based on the item</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Ex:- What is the color of the phone ?\"\r\n                value={itemquestion}\r\n                onChange={(e) => setitemquestion(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n\r\n            <Form.Group>\r\n              <Form.Label>\r\n                Item type<span style={{ color: \"red\" }}>*</span>\r\n              </Form.Label>\r\n              <Form.Control\r\n                as=\"select\"\r\n                required={true}\r\n                defaultValue=\"Choose...\"\r\n                onChange={(e) => settype(e.target.value)}\r\n              >\r\n                <option>Choose..</option>\r\n                <option value={\"Lost\"}>Lost It</option>\r\n                <option value={\"Found\"}>Found It</option>\r\n              </Form.Control>\r\n            </Form.Group>\r\n            <Form.Group>\r\n              <Form.File\r\n                type=\"file\"\r\n                id=\"formimage\"\r\n                label=\"Upload Image\"\r\n                onChange={(e) => {\r\n                  // console.log(e.target.files)\r\n                  let { files } = e.target;\r\n                  lodash.forEach(files, (file) => {\r\n                    // console.log(file);\r\n                    setitemimage((item) => [...item, file]);\r\n                  });\r\n                }}\r\n                multiple\r\n              />\r\n            </Form.Group>\r\n          </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => setShow(false)}>\r\n            Close\r\n          </Button>\r\n          {/* onClick={handleClose} */}\r\n          <Button variant=\"primary\" onClick={temporaryShut}>\r\n            {loading ? (\r\n              <>\r\n                <Spinner\r\n                  as=\"span\"\r\n                  animation=\"border\"\r\n                  size=\"sm\"\r\n                  role=\"status\"\r\n                  aria-hidden=\"true\"\r\n                />\r\n                <span className=\"sr-only\">Loading...</span>\r\n              </>\r\n            ) : (\r\n              <>Submit</>\r\n            )}\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LostItem;\r\n"]},"metadata":{},"sourceType":"module"}