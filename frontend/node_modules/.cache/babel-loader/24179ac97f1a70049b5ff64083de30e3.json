{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\HP TH\\\\Desktop\\\\lost and found\\\\frontend\\\\src\\\\Components\\\\ItemPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\"; // import \"../css/itempage.css\";\n\nimport \"../css/itempage.css\";\nimport sant from \"../img/Santorini.jpg\";\nimport lodash from \"lodash\";\nimport { useHistory } from \"react-router-dom\";\nimport Navbar from \"./Navbar\"; // import { Carousel } from \"react-bootstrap\";\n\nimport { LOGGED_IN, setConstraint } from \"../constraints\";\nimport { useToasts } from \"react-toast-notifications\";\nimport Axios from \"axios\";\nimport { Button, Modal, Form, Container, Card, ListGroup, ListGroupItem, Col } from \"react-bootstrap\";\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\n\nimport { Carousel } from \"react-responsive-carousel\"; // import Carousel from \"react-bootstrap/Carousel\";\n// import 'bootstrap/dist/css/bootstrap.min.css';\n\nfunction ItemPage(props) {\n  _s();\n\n  const {\n    addToast\n  } = useToasts();\n  const [Itemname, setItemname] = useState(\"\");\n  const [ActivationRequest, setActivationRequest] = useState(false); // const [PhoneNumber, setPhoneNumber] = useState();\n\n  const [Createdby, setCreatedby] = useState(\"\");\n  const [show, setShow] = useState(false);\n  const [showDelete, setShowDelete] = useState(false);\n  const [index, setIndex] = useState(0);\n  const [authenticationPage, setauthenication] = useState(\"\"); // const [showNumber, setShowNumber] = useState(false);\n\n  const [validateUser, setvalidateUser] = useState(false);\n  const [Question, setQuestion] = useState(false);\n  const [alreadyAnswered, setalreadyAnswered] = useState(false);\n  const [showQuestion, setshowQuestion] = useState(false);\n  const [answer, setAnswer] = useState(\"\");\n  const [itemid, setitemid] = useState(\"\");\n  const [itemname, setitemname] = useState(\"\");\n  const [description, setdescription] = useState(\"\");\n  const [itemquestion, setitemquestion] = useState(\"\");\n  const [itemimage, setitemimage] = useState([]);\n  const [newitemimage, setnewitemimage] = useState([]);\n  const [type, settype] = useState(\"\");\n  const [messageId, setmessageId] = useState(\"\");\n  const [response, setResponse] = useState(\"\");\n\n  const handleCloseDelete = () => setShowDelete(false);\n\n  const handleShowDelete = () => setShowDelete(true);\n\n  const handleCloseprompt = () => setvalidateUser(false);\n\n  const handleShowprompt = (id, answer) => {\n    console.log(\"Selected message ID is :\", id);\n    console.log(\"Answer is :\", answer);\n    setmessageId(id);\n    setResponse(answer);\n    setvalidateUser(true);\n  };\n\n  const handleCloseActivation = () => {\n    setActivationRequest(false);\n  };\n\n  const submitActivate = () => {\n    // console.log(\"dd\")\n    Axios({\n      method: \"POST\",\n      url: `http://localhost:5000/activateItem/${item_id}`\n    }).then(res => {\n      console.log(\"Activated\");\n      addToast(\"Item Activated ðŸ‘\", {\n        appearance: \"success\"\n      });\n      setTimeout(() => {\n        window.location.reload();\n      }, 2000);\n    }).catch(err => {\n      console.log(err);\n    });\n    setActivationRequest(false);\n  };\n\n  const handleCloseQuestion = () => setQuestion(false);\n\n  const handleShowQuestion = () => setQuestion(true);\n\n  const handleShow = () => setShow(true);\n\n  const handleSelect = (selectedIndex, e) => {\n    setIndex(selectedIndex);\n  };\n\n  const history = useHistory();\n  setConstraint(true); // console.log(props.location.search.substring(1).split(\"=\")[1].split(\"&\")[0]);\n  // console.log(props.location.search.substring(1).split(\"=\")[2].split(\"/\")[0]);\n\n  const item_type = props.location.search.substring(1).split(\"=\")[2].split(\"/\")[0];\n  const item_id = props.location.search.substring(1).split(\"=\")[1].split(\"&\")[0]; // console.log(\n  //   \"Is this item created by the current user :\",\n  //   props.location.search.substring(1).split(\"/\")[1]\n  // );\n\n  const current_user = props.location.search.substring(1).split(\"/\")[1]; // const dispatch = useDispatch()\n\n  const temp = [];\n  const validation = [];\n  useEffect(() => {\n    const {\n      location\n    } = props;\n    Axios({\n      url: `http://localhost:5000/item/${item_id}`,\n      method: \"GET\"\n    }).then(response => {\n      // console.log(response.data);\n      const data = response.data.Item[0];\n      const answers = response.data.Answers; // console.log(answers);\n\n      console.log(data);\n      answers.forEach(ans => {\n        if (JSON.parse(localStorage.getItem(\"user\"))._id === ans.givenBy) {\n          console.log(\"Present\");\n          setalreadyAnswered(true);\n          console.log(alreadyAnswered);\n        } // console.log(\n        //   \"User ID is :\",\n        //   JSON.parse(localStorage.getItem(\"user\"))._id\n        // );\n        // console.log(\"Given by :\", ans.givenBy);\n\n      });\n      setitemid(data._id);\n      setitemname(data.name);\n      setdescription(data.description);\n      setitemquestion(data.question);\n      settype(data.type);\n      setCreatedby(data.createdBy);\n      setitemimage([]);\n      data.itemPictures.map(img => {\n        setitemimage(itemImg => [...itemImg, img]);\n      });\n      console.log(itemimage); // console.log(itemquestion)\n\n      let created_date = new Date(data.createdAt);\n      let createdAt = created_date.getDate() + \"/\" + created_date.getMonth() + \"/\" + created_date.getFullYear() + \" \" + created_date.getHours() + \":\" + created_date.getMinutes();\n      console.log(data);\n      temp.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"itemDescription\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"attributes\",\n          children: [\"Item name : \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"details\",\n            children: data.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 27\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"attributes\",\n          children: [\"Item description :\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"details\",\n            children: data.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"attributes\",\n          children: [\"Item type : \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"details\",\n            children: data.type\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 27\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"attributes\",\n          children: [\"Status :\", data.status ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"details\",\n              children: \" Active\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 19\n            }, this)\n          }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"details\",\n              children: \"Inactive\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 19\n            }, this)\n          }, void 0, false), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"attributes\",\n          children: [\"Created at : \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"details\",\n            children: createdAt\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 28\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this), current_user === \"true\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ed-button\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            onClick: handleShowDelete,\n            children: \"Delete item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleShow,\n            children: \"Edit item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 17\n          }, this), data.status ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              onClick: () => setActivationRequest(true),\n              children: \"Reactivate Item\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 21\n            }, this)\n          }, void 0, false)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: alreadyAnswered ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ed-button\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              disabled: true,\n              onClick: handleShowQuestion,\n              children: data.type === \"Lost\" ? \"Found Item\" : \"Claim Item\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ed-button\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              onClick: handleShowQuestion,\n              children: data.type === \"Lost\" ? \"Found Item\" : \"Claim Item\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }, this));\n      setItemname(temp); // return data;\n\n      console.log(answers);\n      answers.map(e => {\n        let created_date = new Date(e.createdAt);\n        e.createdAt = created_date.getDate() + \"/\" + created_date.getMonth() + \"/\" + created_date.getFullYear() + \" \" + created_date.getHours() + \":\" + created_date.getMinutes(); // console.log(e);\n      });\n      validation.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        children: current_user === \"true\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"attributes\",\n              children: \"Your Question :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: data.question\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"attributes\",\n              children: \"Answers Submitted :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 19\n            }, this), answers.length === 0 ? /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"No Answers Yet.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                flexWrap: \"wrap\"\n              },\n              children: answers.map(answer => /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"responses\",\n                  children: /*#__PURE__*/_jsxDEV(Card, {\n                    border: \"primary\",\n                    style: {\n                      width: \"18rem\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Card.Body, {\n                      children: /*#__PURE__*/_jsxDEV(Card.Title, {\n                        children: [\"Answer : \", answer.answer]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 274,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 273,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n                      className: \"list-group-flush\",\n                      children: [/*#__PURE__*/_jsxDEV(ListGroupItem, {\n                        children: [\"Date : \", answer.createdAt]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 280,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(ListGroupItem, {\n                        children: \"Validate :\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 283,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 279,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                      children: answer.response === \"Moderation\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"ed-button\",\n                        children: [/*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"danger\",\n                          onClick: () => handleShowprompt(answer._id, \"No\"),\n                          children: \"No\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 292,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"primary\",\n                          onClick: () => handleShowprompt(answer._id, \"Yes\"),\n                          children: \"Yes\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 300,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 291,\n                        columnNumber: 35\n                      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\"Already Submitted as \\\"\", answer.response, \"\\\"\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 310,\n                        columnNumber: 35\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 11\n      }, this));\n      setauthenication(validation);\n    }).catch(err => {\n      console.log(\"Error :\", err);\n    });\n  }, [alreadyAnswered]);\n\n  const submitResponse = () => {\n    // console.log(e.target.value)\n    Axios({\n      url: `http://localhost:5000/confirmResponse/${messageId}`,\n      method: \"POST\",\n      data: {\n        response: response\n      }\n    }).then(res => {\n      console.log(res);\n      addToast(\"Response saved ðŸ‘\", {\n        appearance: \"success\"\n      });\n      setTimeout(() => {\n        window.location.reload();\n      }, 2000);\n    }).catch(err => {\n      console.log(err);\n    });\n    handleCloseprompt(true);\n  };\n\n  const delete_item = () => {\n    console.log(\"deleted\");\n    Axios({\n      url: \"http://localhost:5000/deleteitem\",\n      method: \"POST\",\n      data: {\n        item_id\n      }\n    }).then(response => {\n      console.log(response);\n      handleCloseDelete();\n      addToast(\"Item kicked to ðŸ—‘ï¸ successfully!\", {\n        appearance: \"success\"\n      });\n      setTimeout(() => {\n        history.push(\"/feed\");\n      }, 2000);\n    }).catch(err => {\n      console.log(\"Error\");\n    });\n  };\n\n  const handleEdit = () => {\n    const info = new FormData();\n    info.append(\"name\", itemname);\n    info.append(\"description\", description);\n    info.append(\"question\", itemquestion);\n    info.append(\"type\", type);\n    info.append(\"id\", item_id);\n    info.append(\"createdBy\", Createdby); // console.log(newitemimage.length)\n\n    if (newitemimage.length > 0) {\n      newitemimage.map(itemImage => {\n        info.append(\"itemPictures\", itemImage, itemImage.name);\n      });\n    } else {\n      console.log(\"Old one\");\n      itemimage.map(image => {\n        console.log(image);\n        info.append(\"olditemPictures\", image.img);\n      });\n    }\n\n    Axios({\n      url: \"http://localhost:5000/edititem\",\n      method: \"POST\",\n      data: info\n    }).then(res => {\n      console.log(res);\n      addToast(\"Item editedâœï¸ successfully!\", {\n        appearance: \"success\"\n      });\n      setTimeout(() => {\n        window.location.reload();\n      }, 2000);\n    }).catch(err => {\n      console.log(err);\n    });\n    setShow(false);\n  }; // const show_number = () => {\n  //   console.log(\"Number Shown\");\n  //   const { location } = props;\n  //   Axios({\n  //     url: `/getnumber/${\n  //       location.search.substring(1).split(\"=\")[1].split(\"&\")[0]\n  //     }`,\n  //     method: \"GET\",\n  //   })\n  //     .then((response) => {\n  //       console.log(response.data.Number);\n  //       setPhoneNumber(response.data.Number);\n  //     })\n  //     .catch((err) => {\n  //       console.log(err);\n  //     });\n  //   // handleCloseNumber()\n  // };\n\n\n  const show_question = () => {\n    // console.log(\"Number Shown\");\n    setshowQuestion(true);\n  };\n\n  const submitAnswer = () => {\n    Axios({\n      url: \"https:localhost:5000/submitAnswer\",\n      method: \"POST\",\n      data: {\n        itemId: item_id,\n        question: itemquestion,\n        answer: answer,\n        givenBy: JSON.parse(localStorage.getItem(\"user\")),\n        belongsTo: Createdby\n      }\n    }).then(res => {\n      console.log(res);\n      handleCloseQuestion();\n      addToast(\"Response saved âœ”ï¸\", {\n        appearance: \"success\"\n      });\n      setTimeout(() => {\n        window.location.reload();\n      }, 2000);\n    }).catch(err => {\n      console.log(err);\n    });\n    setAnswer(\"\");\n  }; // {\n  //   itemimage.map((item) => {\n  //     console.log(item);\n  //   });\n  // }\n  // const test=Object.values(itemimage)\n  // console.log(test[0])\n  // const people = [];\n  // const [test,setTest]=useState(\"\")\n  // for (let i = 0; i < 10; i++) {\n  //   people.push({\n  //     name: \"Aloo\",\n  //     country: \"India\",\n  //   });\n  // }\n  // setTest(people)\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"itempage\",\n        children: [/*#__PURE__*/_jsxDEV(Carousel, {\n          autoPlay: true,\n          className: \"carousel\",\n          infiniteLoop: true,\n          width: \"50%\",\n          children: itemimage.map(i => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                border: \"2px solid black\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `http://localhost:5000/${i.img}`,\n                alt: \"item\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: Itemname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: authenticationPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: ActivationRequest,\n      onHide: handleCloseActivation,\n      backdrop: \"static\",\n      children: [/*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Are you sure ? \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: handleCloseActivation,\n          children: \"No\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"danger\",\n          onClick: submitActivate,\n          children: \"Yes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 509,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showDelete,\n      onHide: handleCloseDelete,\n      backdrop: \"static\",\n      children: [/*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Are you sure ? \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: handleCloseDelete,\n          children: \"No\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"danger\",\n          onClick: delete_item,\n          children: \"Yes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 528,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: validateUser,\n      onHide: handleCloseprompt,\n      backdrop: \"static\",\n      children: [/*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Once submitted you can not undo. Are you sure ? \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"danger\",\n          onClick: () => handleCloseprompt(true),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: submitResponse,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: Question,\n      onHide: handleCloseQuestion,\n      backdrop: \"static\",\n      children: showQuestion ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: itemquestion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 561,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"textarea\",\n              placeholder: \"Enter Answer\",\n              value: answer,\n              onChange: e => setAnswer(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleCloseQuestion,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: submitAnswer,\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Are you sure you found the item? \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 582,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleCloseQuestion,\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 585,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            onClick: show_question,\n            children: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 580,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 556,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Modal, {\n        show: show,\n        onHide: () => setShow(false),\n        backdrop: \"static\",\n        keyboard: false,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"Lost item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Item name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 608,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                placeholder: \"Enter item\",\n                value: itemname,\n                onChange: e => setitemname(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 609,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 618,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                as: \"textarea\",\n                placeholder: \"Enter Description\",\n                value: description,\n                onChange: e => setdescription(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 619,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 617,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Enter a question based on the item\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 627,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                placeholder: \"Ex:- What is the color of the phone ?\",\n                value: itemquestion,\n                onChange: e => setitemquestion(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 628,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 626,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Item type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                as: \"select\",\n                required: true,\n                defaultValue: \"Choose...\",\n                value: type,\n                onChange: e => settype(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"Choose..\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 644,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Lost\",\n                  children: \"Lost It\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 645,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Found\",\n                  children: \"Found It\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 646,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 637,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: /*#__PURE__*/_jsxDEV(Form.File, {\n                type: \"file\",\n                id: \"formimage\",\n                label: \"Image input\",\n                onChange: e => {\n                  // console.log(e.target.files)\n                  let {\n                    files\n                  } = e.target;\n                  lodash.forEach(files, file => {\n                    // console.log(file)\n                    setnewitemimage(item => [...item, file]);\n                  });\n                },\n                multiple: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 650,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 606,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 605,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            onClick: () => setShow(false),\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 668,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleEdit,\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 671,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 595,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(ItemPage, \"szeoR0keowwDu8B+DsbNoU2bgog=\", false, function () {\n  return [useToasts, useHistory];\n});\n\n_c = ItemPage;\nexport default ItemPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ItemPage\");","map":{"version":3,"sources":["C:/Users/HP TH/Desktop/lost and found/frontend/src/Components/ItemPage.js"],"names":["React","useState","useEffect","sant","lodash","useHistory","Navbar","LOGGED_IN","setConstraint","useToasts","Axios","Button","Modal","Form","Container","Card","ListGroup","ListGroupItem","Col","Carousel","ItemPage","props","addToast","Itemname","setItemname","ActivationRequest","setActivationRequest","Createdby","setCreatedby","show","setShow","showDelete","setShowDelete","index","setIndex","authenticationPage","setauthenication","validateUser","setvalidateUser","Question","setQuestion","alreadyAnswered","setalreadyAnswered","showQuestion","setshowQuestion","answer","setAnswer","itemid","setitemid","itemname","setitemname","description","setdescription","itemquestion","setitemquestion","itemimage","setitemimage","newitemimage","setnewitemimage","type","settype","messageId","setmessageId","response","setResponse","handleCloseDelete","handleShowDelete","handleCloseprompt","handleShowprompt","id","console","log","handleCloseActivation","submitActivate","method","url","item_id","then","res","appearance","setTimeout","window","location","reload","catch","err","handleCloseQuestion","handleShowQuestion","handleShow","handleSelect","selectedIndex","e","history","item_type","search","substring","split","current_user","temp","validation","data","Item","answers","Answers","forEach","ans","JSON","parse","localStorage","getItem","_id","givenBy","name","question","createdBy","itemPictures","map","img","itemImg","created_date","Date","createdAt","getDate","getMonth","getFullYear","getHours","getMinutes","push","status","length","display","flexWrap","width","submitResponse","delete_item","handleEdit","info","FormData","append","itemImage","image","show_question","submitAnswer","itemId","belongsTo","i","border","target","value","files","file","item"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n// import \"../css/itempage.css\";\r\nimport \"../css/itempage.css\";\r\nimport sant from \"../img/Santorini.jpg\";\r\nimport lodash from \"lodash\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Navbar from \"./Navbar\";\r\n// import { Carousel } from \"react-bootstrap\";\r\nimport { LOGGED_IN, setConstraint } from \"../constraints\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\nimport Axios from \"axios\";\r\nimport {\r\n  Button,\r\n  Modal,\r\n  Form,\r\n  Container,\r\n  Card,\r\n  ListGroup,\r\n  ListGroupItem,\r\n  Col,\r\n} from \"react-bootstrap\";\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport { Carousel } from \"react-responsive-carousel\";\r\n// import Carousel from \"react-bootstrap/Carousel\";\r\n// import 'bootstrap/dist/css/bootstrap.min.css';\r\nfunction ItemPage(props) {\r\n  const { addToast } = useToasts();\r\n  const [Itemname, setItemname] = useState(\"\");\r\n  const [ActivationRequest, setActivationRequest] = useState(false);\r\n  // const [PhoneNumber, setPhoneNumber] = useState();\r\n  const [Createdby, setCreatedby] = useState(\"\");\r\n  const [show, setShow] = useState(false);\r\n  const [showDelete, setShowDelete] = useState(false);\r\n  const [index, setIndex] = useState(0);\r\n  const [authenticationPage, setauthenication] = useState(\"\");\r\n  // const [showNumber, setShowNumber] = useState(false);\r\n  const [validateUser, setvalidateUser] = useState(false);\r\n  const [Question, setQuestion] = useState(false);\r\n  const [alreadyAnswered, setalreadyAnswered] = useState(false);\r\n  const [showQuestion, setshowQuestion] = useState(false);\r\n  const [answer, setAnswer] = useState(\"\");\r\n  const [itemid, setitemid] = useState(\"\");\r\n  const [itemname, setitemname] = useState(\"\");\r\n  const [description, setdescription] = useState(\"\");\r\n  const [itemquestion, setitemquestion] = useState(\"\");\r\n  const [itemimage, setitemimage] = useState([]);\r\n  const [newitemimage, setnewitemimage] = useState([]);\r\n  const [type, settype] = useState(\"\");\r\n  const [messageId, setmessageId] = useState(\"\");\r\n  const [response, setResponse] = useState(\"\");\r\n  const handleCloseDelete = () => setShowDelete(false);\r\n  const handleShowDelete = () => setShowDelete(true);\r\n  const handleCloseprompt = () => setvalidateUser(false);\r\n  const handleShowprompt = (id, answer) => {\r\n    console.log(\"Selected message ID is :\", id);\r\n    console.log(\"Answer is :\", answer);\r\n    setmessageId(id);\r\n    setResponse(answer);\r\n    setvalidateUser(true);\r\n  };\r\n  const handleCloseActivation = () => {\r\n    setActivationRequest(false);\r\n  };\r\n  const submitActivate = () => {\r\n    // console.log(\"dd\")\r\n    Axios({\r\n      method: \"POST\",\r\n      url: `http://localhost:5000/activateItem/${item_id}`,\r\n    })\r\n      .then((res) => {\r\n        console.log(\"Activated\");\r\n        addToast(\"Item Activated ðŸ‘\", {\r\n          appearance: \"success\",\r\n        });\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 2000);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    setActivationRequest(false);\r\n  };\r\n  const handleCloseQuestion = () => setQuestion(false);\r\n  const handleShowQuestion = () => setQuestion(true);\r\n  const handleShow = () => setShow(true);\r\n  const handleSelect = (selectedIndex, e) => {\r\n    setIndex(selectedIndex);\r\n  };\r\n  const history = useHistory();\r\n  setConstraint(true);\r\n  // console.log(props.location.search.substring(1).split(\"=\")[1].split(\"&\")[0]);\r\n  // console.log(props.location.search.substring(1).split(\"=\")[2].split(\"/\")[0]);\r\n  const item_type = props.location.search\r\n    .substring(1)\r\n    .split(\"=\")[2]\r\n    .split(\"/\")[0];\r\n  const item_id = props.location.search\r\n    .substring(1)\r\n    .split(\"=\")[1]\r\n    .split(\"&\")[0];\r\n  // console.log(\r\n  //   \"Is this item created by the current user :\",\r\n  //   props.location.search.substring(1).split(\"/\")[1]\r\n  // );\r\n  const current_user = props.location.search.substring(1).split(\"/\")[1];\r\n  // const dispatch = useDispatch()\r\n\r\n  const temp = [];\r\n  const validation = [];\r\n\r\n  useEffect(() => {\r\n    const { location } = props;\r\n    Axios({\r\n      url: `http://localhost:5000/item/${\r\n        item_id\r\n      }`,\r\n      method: \"GET\",\r\n    })\r\n      .then((response) => {\r\n        // console.log(response.data);\r\n        const data = response.data.Item[0];\r\n        const answers = response.data.Answers;\r\n        // console.log(answers);\r\n        console.log(data);\r\n        answers.forEach((ans) => {\r\n          if (JSON.parse(localStorage.getItem(\"user\"))._id === ans.givenBy) {\r\n            console.log(\"Present\");\r\n            setalreadyAnswered(true);\r\n            console.log(alreadyAnswered);\r\n          }\r\n          // console.log(\r\n          //   \"User ID is :\",\r\n          //   JSON.parse(localStorage.getItem(\"user\"))._id\r\n          // );\r\n          // console.log(\"Given by :\", ans.givenBy);\r\n        });\r\n        setitemid(data._id);\r\n        setitemname(data.name);\r\n        setdescription(data.description);\r\n        setitemquestion(data.question);\r\n        settype(data.type);\r\n        setCreatedby(data.createdBy);\r\n        setitemimage([]);\r\n        data.itemPictures.map((img) => {\r\n          setitemimage((itemImg) => [...itemImg, img]);\r\n        });\r\n        console.log(itemimage);\r\n        // console.log(itemquestion)\r\n        let created_date = new Date(data.createdAt);\r\n        let createdAt =\r\n          created_date.getDate() +\r\n          \"/\" +\r\n          created_date.getMonth() +\r\n          \"/\" +\r\n          created_date.getFullYear() +\r\n          \" \" +\r\n          created_date.getHours() +\r\n          \":\" +\r\n          created_date.getMinutes();\r\n        console.log(data);\r\n        temp.push(\r\n          <div className=\"itemDescription\">\r\n            <h3 className=\"attributes\">\r\n              Item name : <span className=\"details\">{data.name}</span>{\" \"}\r\n            </h3>\r\n            <hr></hr>\r\n            <h3 className=\"attributes\">\r\n              Item description :{\" \"}\r\n              <span className=\"details\">{data.description}</span>{\" \"}\r\n            </h3>\r\n            <hr></hr>\r\n            <h3 className=\"attributes\">\r\n              Item type : <span className=\"details\">{data.type}</span>{\" \"}\r\n            </h3>\r\n            <hr></hr>\r\n            <h3 className=\"attributes\">\r\n              Status :\r\n              {data.status ? (\r\n                <>\r\n                  <span className=\"details\"> Active</span>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <span className=\"details\">Inactive</span>\r\n                </>\r\n              )}{\" \"}\r\n            </h3>\r\n            <hr></hr>\r\n            <h6 className=\"attributes\">\r\n              Created at : <span className=\"details\">{createdAt}</span>{\" \"}\r\n            </h6>\r\n            {current_user === \"true\" ? (\r\n              <div className=\"ed-button\">\r\n                <Button variant=\"danger\" onClick={handleShowDelete}>\r\n                  Delete item\r\n                </Button>\r\n                <Button variant=\"primary\" onClick={handleShow}>\r\n                  Edit item\r\n                </Button>\r\n                {data.status ? (\r\n                  <></>\r\n                ) : (\r\n                  <>\r\n                    <Button\r\n                      variant=\"primary\"\r\n                      onClick={() => setActivationRequest(true)}\r\n                    >\r\n                      Reactivate Item\r\n                    </Button>\r\n                  </>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                {alreadyAnswered ? (\r\n                  <div className=\"ed-button\">\r\n                    <Button\r\n                      variant=\"secondary\"\r\n                      disabled\r\n                      onClick={handleShowQuestion}\r\n                    >\r\n                      {data.type === \"Lost\" ? \"Found Item\" : \"Claim Item\"}\r\n                    </Button>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"ed-button\">\r\n                    <Button variant=\"primary\" onClick={handleShowQuestion}>\r\n                      {data.type === \"Lost\" ? \"Found Item\" : \"Claim Item\"}\r\n                    </Button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n        setItemname(temp);\r\n        // return data;\r\n        console.log(answers);\r\n        answers.map((e) => {\r\n          let created_date = new Date(e.createdAt);\r\n          e.createdAt =\r\n            created_date.getDate() +\r\n            \"/\" +\r\n            created_date.getMonth() +\r\n            \"/\" +\r\n            created_date.getFullYear() +\r\n            \" \" +\r\n            created_date.getHours() +\r\n            \":\" +\r\n            created_date.getMinutes();\r\n          // console.log(e);\r\n        });\r\n        validation.push(\r\n          <div>\r\n            {current_user === \"true\" ? (\r\n              <div>\r\n                <div>\r\n                  <h2 className=\"attributes\">Your Question :</h2>\r\n                  <h3>{data.question}</h3>\r\n                </div>\r\n\r\n                <div>\r\n                  <h2 className=\"attributes\">Answers Submitted :</h2>\r\n                  {answers.length === 0 ? (\r\n                    <h3>No Answers Yet.</h3>\r\n                  ) : (\r\n                    <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\r\n                      {answers.map((answer) => (\r\n                        <>\r\n                          <div className=\"responses\">\r\n                            <Card border=\"primary\" style={{ width: \"18rem\" }}>\r\n                              <Card.Body>\r\n                                <Card.Title>\r\n                                  Answer : {answer.answer}\r\n                                </Card.Title>\r\n                                {/* <Card.Text>Some quick example</Card.Text> */}\r\n                              </Card.Body>\r\n                              <ListGroup className=\"list-group-flush\">\r\n                                <ListGroupItem>\r\n                                  Date : {answer.createdAt}\r\n                                </ListGroupItem>\r\n                                <ListGroupItem>Validate :</ListGroupItem>\r\n                              </ListGroup>\r\n                              {/* <Card.Body>\r\n                                <Card.Link href=\"#\">No</Card.Link>\r\n                                <Card.Link href=\"#\">Yes</Card.Link>\r\n                              </Card.Body> */}\r\n                              <Card.Body>\r\n                                {answer.response === \"Moderation\" ? (\r\n                                  <div className=\"ed-button\">\r\n                                    <Button\r\n                                      variant=\"danger\"\r\n                                      onClick={() =>\r\n                                        handleShowprompt(answer._id, \"No\")\r\n                                      }\r\n                                    >\r\n                                      No\r\n                                    </Button>\r\n                                    <Button\r\n                                      variant=\"primary\"\r\n                                      onClick={() =>\r\n                                        handleShowprompt(answer._id, \"Yes\")\r\n                                      }\r\n                                    >\r\n                                      Yes\r\n                                    </Button>\r\n                                  </div>\r\n                                ) : (\r\n                                  <p>\r\n                                    Already Submitted as \"{answer.response}\"\r\n                                  </p>\r\n                                )}\r\n                              </Card.Body>\r\n                            </Card>\r\n                          </div>\r\n                          {/* <div style={{ display: \"flex\" }}>\r\n                            <h5>Answer is :</h5>\r\n                            <h5>{answer.answer}</h5>\r\n                          </div> */}\r\n                          {/* <p>Submitted at : {answer.createdAt}</p> */}\r\n                        </>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                  {/* <h2>{answers.length}</h2> */}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div></div>\r\n            )}\r\n          </div>\r\n        );\r\n        setauthenication(validation);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Error :\", err);\r\n      });\r\n  }, [alreadyAnswered]);\r\n  const submitResponse = () => {\r\n    // console.log(e.target.value)\r\n    Axios({\r\n      url: `http://localhost:5000/confirmResponse/${messageId}`,\r\n      method: \"POST\",\r\n      data: { response: response },\r\n    })\r\n      .then((res) => {\r\n        console.log(res);\r\n        addToast(\"Response saved ðŸ‘\", {\r\n          appearance: \"success\",\r\n        });\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 2000);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    handleCloseprompt(true);\r\n  };\r\n  const delete_item = () => {\r\n    console.log(\"deleted\");\r\n    Axios({\r\n      url: \"http://localhost:5000/deleteitem\",\r\n      method: \"POST\",\r\n      data: { item_id },\r\n    })\r\n      .then((response) => {\r\n        console.log(response);\r\n        handleCloseDelete();\r\n        addToast(\"Item kicked to ðŸ—‘ï¸ successfully!\", {\r\n          appearance: \"success\",\r\n        });\r\n        setTimeout(() => {\r\n          history.push(\"/feed\");\r\n        }, 2000);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Error\");\r\n      });\r\n  };\r\n  const handleEdit = () => {\r\n    const info = new FormData();\r\n    info.append(\"name\", itemname);\r\n    info.append(\"description\", description);\r\n    info.append(\"question\", itemquestion);\r\n    info.append(\"type\", type);\r\n    info.append(\"id\", item_id);\r\n    info.append(\"createdBy\", Createdby);\r\n    // console.log(newitemimage.length)\r\n    if (newitemimage.length > 0) {\r\n      newitemimage.map((itemImage) => {\r\n        info.append(\"itemPictures\", itemImage, itemImage.name);\r\n      });\r\n    } else {\r\n      console.log(\"Old one\");\r\n      itemimage.map((image) => {\r\n        console.log(image);\r\n        info.append(\"olditemPictures\", image.img);\r\n      });\r\n    }\r\n    Axios({\r\n      url: \"http://localhost:5000/edititem\",\r\n      method: \"POST\",\r\n      data: info,\r\n    })\r\n      .then((res) => {\r\n        console.log(res);\r\n        addToast(\"Item editedâœï¸ successfully!\", {\r\n          appearance: \"success\",\r\n        });\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 2000);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    setShow(false);\r\n  };\r\n  // const show_number = () => {\r\n  //   console.log(\"Number Shown\");\r\n  //   const { location } = props;\r\n  //   Axios({\r\n  //     url: `/getnumber/${\r\n  //       location.search.substring(1).split(\"=\")[1].split(\"&\")[0]\r\n  //     }`,\r\n  //     method: \"GET\",\r\n  //   })\r\n  //     .then((response) => {\r\n  //       console.log(response.data.Number);\r\n  //       setPhoneNumber(response.data.Number);\r\n  //     })\r\n  //     .catch((err) => {\r\n  //       console.log(err);\r\n  //     });\r\n  //   // handleCloseNumber()\r\n  // };\r\n  const show_question = () => {\r\n    // console.log(\"Number Shown\");\r\n    setshowQuestion(true);\r\n  };\r\n  const submitAnswer = () => {\r\n    Axios({\r\n      url: \"https:localhost:5000/submitAnswer\",\r\n      method: \"POST\",\r\n      data: {\r\n        itemId: item_id,\r\n        question: itemquestion,\r\n        answer: answer,\r\n        givenBy: JSON.parse(localStorage.getItem(\"user\")),\r\n        belongsTo: Createdby,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        console.log(res);\r\n        handleCloseQuestion();\r\n        addToast(\"Response saved âœ”ï¸\", {\r\n          appearance: \"success\",\r\n        });\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 2000);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    setAnswer(\"\");\r\n  };\r\n  // {\r\n  //   itemimage.map((item) => {\r\n  //     console.log(item);\r\n  //   });\r\n  // }\r\n  // const test=Object.values(itemimage)\r\n  // console.log(test[0])\r\n  // const people = [];\r\n  // const [test,setTest]=useState(\"\")\r\n  // for (let i = 0; i < 10; i++) {\r\n  //   people.push({\r\n  //     name: \"Aloo\",\r\n  //     country: \"India\",\r\n  //   });\r\n  // }\r\n  // setTest(people)\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <Container fluid>\r\n        <div className=\"itempage\">\r\n          <Carousel autoPlay className=\"carousel\" infiniteLoop width=\"50%\">\r\n            {itemimage.map((i) => {\r\n              return (\r\n                <div style={{ border: \"2px solid black\" }}>\r\n                  <img\r\n                    src={`http://localhost:5000/${i.img}`}\r\n\r\n                    alt=\"item\"\r\n                  />\r\n                </div>\r\n              );\r\n            })}\r\n          </Carousel>\r\n          <div>{Itemname}</div>\r\n        </div>\r\n        <div>{authenticationPage}</div>\r\n      </Container>\r\n\r\n      <Modal\r\n        show={ActivationRequest}\r\n        onHide={handleCloseActivation}\r\n        backdrop=\"static\"\r\n      >\r\n        <Modal.Body>\r\n          <p>Are you sure ? </p>\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n          <Button variant=\"primary\" onClick={handleCloseActivation}>\r\n            No\r\n          </Button>\r\n          <Button variant=\"danger\" onClick={submitActivate}>\r\n            Yes\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n      <Modal show={showDelete} onHide={handleCloseDelete} backdrop=\"static\">\r\n        <Modal.Body>\r\n          <p>Are you sure ? </p>\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n          <Button variant=\"primary\" onClick={handleCloseDelete}>\r\n            No\r\n          </Button>\r\n          <Button variant=\"danger\" onClick={delete_item}>\r\n            Yes\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <Modal show={validateUser} onHide={handleCloseprompt} backdrop=\"static\">\r\n        <Modal.Body>\r\n          <p>Once submitted you can not undo. Are you sure ? </p>\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n          <Button variant=\"danger\" onClick={() => handleCloseprompt(true)}>\r\n            Cancel\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={submitResponse}>\r\n            Submit\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <Modal show={Question} onHide={handleCloseQuestion} backdrop=\"static\">\r\n        {showQuestion ? (\r\n          <div>\r\n            <Modal.Body>\r\n              <Form.Group>\r\n                <Form.Label>{itemquestion}</Form.Label>\r\n                <Form.Control\r\n                  as=\"textarea\"\r\n                  placeholder=\"Enter Answer\"\r\n                  value={answer}\r\n                  onChange={(e) => setAnswer(e.target.value)}\r\n                />\r\n              </Form.Group>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button variant=\"primary\" onClick={handleCloseQuestion}>\r\n                Close\r\n              </Button>\r\n              <Button variant=\"primary\" onClick={submitAnswer}>\r\n                Submit\r\n              </Button>\r\n            </Modal.Footer>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <Modal.Body>\r\n              <p>Are you sure you found the item? </p>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button variant=\"primary\" onClick={handleCloseQuestion}>\r\n                No\r\n              </Button>\r\n              <Button variant=\"danger\" onClick={show_question}>\r\n                Yes\r\n              </Button>\r\n            </Modal.Footer>\r\n          </div>\r\n        )}\r\n      </Modal>\r\n      <div>\r\n        <Modal\r\n          show={show}\r\n          onHide={() => setShow(false)}\r\n          backdrop=\"static\"\r\n          keyboard={false}\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Lost item</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Form>\r\n              <Form.Group>\r\n                <Form.Label>Item name</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Enter item\"\r\n                  value={itemname}\r\n                  onChange={(e) => setitemname(e.target.value)}\r\n                />\r\n              </Form.Group>\r\n\r\n              <Form.Group>\r\n                <Form.Label>Description</Form.Label>\r\n                <Form.Control\r\n                  as=\"textarea\"\r\n                  placeholder=\"Enter Description\"\r\n                  value={description}\r\n                  onChange={(e) => setdescription(e.target.value)}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Enter a question based on the item</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Ex:- What is the color of the phone ?\"\r\n                  value={itemquestion}\r\n                  onChange={(e) => setitemquestion(e.target.value)}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Item type</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  required={true}\r\n                  defaultValue=\"Choose...\"\r\n                  value={type}\r\n                  onChange={(e) => settype(e.target.value)}\r\n                >\r\n                  <option>Choose..</option>\r\n                  <option value={\"Lost\"}>Lost It</option>\r\n                  <option value={\"Found\"}>Found It</option>\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.File\r\n                  type=\"file\"\r\n                  id=\"formimage\"\r\n                  label=\"Image input\"\r\n                  onChange={(e) => {\r\n                    // console.log(e.target.files)\r\n                    let { files } = e.target;\r\n                    lodash.forEach(files, (file) => {\r\n                      // console.log(file)\r\n                      setnewitemimage((item) => [...item, file]);\r\n                    });\r\n                  }}\r\n                  multiple\r\n                />\r\n              </Form.Group>\r\n            </Form>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={() => setShow(false)}>\r\n              Close\r\n            </Button>\r\n            <Button variant=\"primary\" onClick={handleEdit}>\r\n              Submit\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ItemPage;\r\n"]},"metadata":{},"sourceType":"module"}