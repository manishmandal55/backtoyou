{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\HP TH\\\\Desktop\\\\lost and found\\\\frontend\\\\src\\\\Components\\\\Feed.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\"; // import { useLocation } from \"react-router-dom\";\n\nimport { setConstraint } from \"../constraints\";\nimport Navbar from \"../Components/Navbar\";\nimport \"../css/feed.css\";\nimport \"../css/item_card.css\";\nimport Axios from \"axios\";\nimport { Card, Col, Container, Row } from \"react-bootstrap\";\nexport default function Feed() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const [user_info, setuser_info] = useState(JSON.parse(localStorage.getItem(\"user\")));\n\n  const ReadMore = ({\n    children\n  }) => {\n    _s();\n\n    const text = children;\n    const [isReadMore, setIsReadMore] = useState(true);\n\n    const toggleReadMore = () => {\n      setIsReadMore(!isReadMore);\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: \"1rem\"\n      },\n      className: \"text\",\n      children: [isReadMore ? text.slice(0, 15) : text, /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: toggleReadMore,\n        className: \"read-or-hide\",\n        children: isReadMore ? \"....\" : \" show less\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this);\n  }; // const [user_info,setuser_info]=useState('')\n  // console.log(user_info)\n  // const location = useLocation();\n  // useEffect(()=>{\n  //   if(location.user==null){\n  //     console.log(\"if statement\",user_info)\n  //     // location.user=''\n  //   }\n  //   else{\n  //     // console.log(\"Else\",user_info)\n  //     console.log(location.user)\n  //     setuser_info(location.user)\n  //     console.log(user_info)\n  //     // console.log(\"Else statement\",user_info)\n  //   }\n  // },[])\n  // useEffect(()=>{\n  //   console.log(location.user)\n  //   localStorage.setItem('user',JSON.stringify(location.user))\n  //   setuser_info((localStorage.getItem('user')))\n  // },[])\n  // console.log(\"User info is :\", location.user);\n\n\n  _s(ReadMore, \"ZXM2B4A2wvZoaix7Dpb8ksgPwlY=\");\n\n  setConstraint(true); // var user_info\n  // if(NEW_USER===false){\n  //   user_info=location.user\n  //   setUser(true)\n  // }\n  // console.log(constraint.LOGGED_IN);\n\n  const [item, setitem] = useState(\"\");\n  const [Found_item, setFound_item] = useState();\n  useEffect(() => {\n    // console.log(\"Test\");\n    Axios({\n      url: \"http://localhost:5000/getitem\",\n      method: \"GET\"\n    }).then(response => {\n      // console.log(response.data.postitems);\n      // console.log(response);\n      let data = response.data.postitems;\n      let items = [];\n      let Found_items = [];\n      data.reverse().map(item => {\n        let created_date = new Date(item.createdAt); // console.log(created_date);\n        // console.log(created_date.getDate()+\"/\"+created_date.getMonth()+\"/\"+created_date.getFullYear()+\" \"+created_date.getHours()+\":\"+created_date.getMinutes());\n\n        let createdAt = created_date.getDate() + \"/\" + created_date.getMonth() + \"/\" + created_date.getFullYear() + \" \" + created_date.getHours() + \":\" + created_date.getMinutes(); // category.postitem.findOne({createdBy: item.createdBy}).populate('name')\n        // .exec(function (err, story) {\n        //   if (err) return err\n        //   console.log('The author is %s', story);\n        //   // prints \"The author is Ian Fleming\"\n        // });\n        // console.log(item.itemPictures[0].img)\n\n        if (item.type === \"Lost\" && item.status === true) {\n          let user = false;\n\n          if (item.createdBy === user_info._id) {\n            user = true;\n          } // console.log(item)\n          // console.log(\"Lost item \"+user+item.name)\n          // console.log(`http://localhost:5000/${item.itemPictures[0].img}`)\n\n\n          items.push( /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `/${item.name}?cid=${item._id}&type=${item.type}/${user}`,\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              style: {\n                marginTop: \"2%\"\n              },\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                bsPrefix: \"item-card\",\n                children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n                  variant: \"top\",\n                  src: `http://localhost:5000/${item.itemPictures[0].img}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                  bsPrefix: \"card-body\",\n                  children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                    style: {\n                      fontFamily: \"'Noto Sans JP', sans-serif\",\n                      fontWeight: \"1.35rem\"\n                    },\n                    children: [\"Item :\", item.name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 23\n                  }, this), item.description ? /*#__PURE__*/_jsxDEV(Card.Text, {\n                    style: {\n                      fontFamily: \"'Noto Sans JP', sans-serif\",\n                      fontSize: \"1rem\"\n                    },\n                    children: [\" \", \"Description :\", /*#__PURE__*/_jsxDEV(ReadMore, {\n                      children: item.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 133,\n                      columnNumber: 40\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 25\n                  }, this) : \"\", /*#__PURE__*/_jsxDEV(Card.Text, {\n                    style: {\n                      fontFamily: \"'Noto Sans JP', sans-serif\",\n                      fontSize: \"1rem\"\n                    },\n                    children: [\"Created at : \", createdAt]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 138,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 19\n              }, this)\n            }, item.name, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this));\n        } else {\n          var user1 = false;\n\n          if (item.createdBy === user_info._id) {\n            user1 = true;\n          } // console.log(\"Lost item \"+user1+item.name)\n\n\n          Found_items.push( /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `/${item.name}?cid=${item._id}&type=${item.type}/${user1}`,\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              style: {\n                marginTop: \"2%\"\n              },\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                bsPrefix: \"item-card\",\n                children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n                  variant: \"top\",\n                  src: `http://localhost:5000/${item.itemPictures[0].img}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                  bsPrefix: \"card-body\",\n                  children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                    style: {\n                      fontFamily: \"'Noto Sans JP', sans-serif\",\n                      fontWeight: \"1.35rem\"\n                    },\n                    children: [\"Item :\", item.name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 23\n                  }, this), item.description ? /*#__PURE__*/_jsxDEV(Card.Text, {\n                    style: {\n                      fontFamily: \"'Noto Sans JP', sans-serif\",\n                      fontSize: \"1rem\"\n                    },\n                    children: [\" \", \"Description :\", /*#__PURE__*/_jsxDEV(ReadMore, {\n                      children: item.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 200,\n                      columnNumber: 40\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 25\n                  }, this) : \"\", /*#__PURE__*/_jsxDEV(Card.Text, {\n                    style: {\n                      fontFamily: \"'Noto Sans JP', sans-serif\",\n                      fontSize: \"1rem\"\n                    },\n                    children: [\"Created at : \", createdAt]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 21\n                }, this)]\n              }, item.name, true, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this));\n        }\n      });\n      setitem(items);\n      setFound_item(Found_items);\n    }).catch(err => {\n      console.log(\"Error :\", err);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          fontFamily: \"'Noto Sans JP', sans-serif\",\n          marginLeft: \"5px\"\n        },\n        children: [\"Welcome \", user_info.firstname, \" \\uD83D\\uDC4B!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        fluid: true,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: \"Lost items :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title-border\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: item\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        fluid: true,\n        children: Found_item ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: \"center\"\n            },\n            children: \"Found items :\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"title-border\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: Found_item\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 13\n        }, this) : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 241,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(Feed, \"Y5RG/LuSJu9dEwRqD3QFDodU8oc=\");\n\n_c = Feed;\n\nvar _c;\n\n$RefreshReg$(_c, \"Feed\");","map":{"version":3,"sources":["C:/Users/HP TH/Desktop/lost and found/frontend/src/Components/Feed.js"],"names":["React","useEffect","useState","setConstraint","Navbar","Axios","Card","Col","Container","Row","Feed","user_info","setuser_info","JSON","parse","localStorage","getItem","ReadMore","children","text","isReadMore","setIsReadMore","toggleReadMore","fontSize","slice","item","setitem","Found_item","setFound_item","url","method","then","response","data","postitems","items","Found_items","reverse","map","created_date","Date","createdAt","getDate","getMonth","getFullYear","getHours","getMinutes","type","status","user","createdBy","_id","push","name","marginTop","itemPictures","img","fontFamily","fontWeight","description","user1","catch","err","console","log","marginLeft","firstname","textAlign"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n// import { useLocation } from \"react-router-dom\";\r\nimport { setConstraint } from \"../constraints\";\r\nimport Navbar from \"../Components/Navbar\";\r\nimport \"../css/feed.css\";\r\nimport \"../css/item_card.css\";\r\nimport Axios from \"axios\";\r\nimport { Card, Col, Container, Row } from \"react-bootstrap\";\r\n\r\nexport default function Feed() {\r\n  \r\n  const [user_info, setuser_info] = useState(\r\n    JSON.parse(localStorage.getItem(\"user\"))\r\n  );\r\n  const ReadMore = ({ children }) => {\r\n    const text = children;\r\n    const [isReadMore, setIsReadMore] = useState(true);\r\n    const toggleReadMore = () => {\r\n      setIsReadMore(!isReadMore);\r\n    };\r\n    return (\r\n      <p style={{ fontSize: \"1rem\" }} className=\"text\">\r\n        {isReadMore ? text.slice(0, 15) : text}\r\n        <span onClick={toggleReadMore} className=\"read-or-hide\">\r\n          {isReadMore ? \"....\" : \" show less\"}\r\n        </span>\r\n      </p>\r\n    );\r\n  };\r\n  // const [user_info,setuser_info]=useState('')\r\n  // console.log(user_info)\r\n\r\n  // const location = useLocation();\r\n  // useEffect(()=>{\r\n  //   if(location.user==null){\r\n  //     console.log(\"if statement\",user_info)\r\n  //     // location.user=''\r\n  //   }\r\n  //   else{\r\n  //     // console.log(\"Else\",user_info)\r\n  //     console.log(location.user)\r\n  //     setuser_info(location.user)\r\n  //     console.log(user_info)\r\n  //     // console.log(\"Else statement\",user_info)\r\n  //   }\r\n  // },[])\r\n  // useEffect(()=>{\r\n  //   console.log(location.user)\r\n  //   localStorage.setItem('user',JSON.stringify(location.user))\r\n  //   setuser_info((localStorage.getItem('user')))\r\n  // },[])\r\n  // console.log(\"User info is :\", location.user);\r\n  setConstraint(true);\r\n  // var user_info\r\n  // if(NEW_USER===false){\r\n  //   user_info=location.user\r\n  //   setUser(true)\r\n  // }\r\n  // console.log(constraint.LOGGED_IN);\r\n  const [item, setitem] = useState(\"\");\r\n  const [Found_item, setFound_item] = useState();\r\n  useEffect(() => {\r\n    // console.log(\"Test\");\r\n    Axios({\r\n      url: \"http://localhost:5000/getitem\",\r\n      method: \"GET\",\r\n    })\r\n      .then((response) => {\r\n        // console.log(response.data.postitems);\r\n        // console.log(response);\r\n        let data = response.data.postitems;\r\n        let items = [];\r\n        let Found_items = [];\r\n        data.reverse().map((item) => {\r\n          let created_date = new Date(item.createdAt);\r\n          // console.log(created_date);\r\n          // console.log(created_date.getDate()+\"/\"+created_date.getMonth()+\"/\"+created_date.getFullYear()+\" \"+created_date.getHours()+\":\"+created_date.getMinutes());\r\n          let createdAt =\r\n            created_date.getDate() +\r\n            \"/\" +\r\n            created_date.getMonth() +\r\n            \"/\" +\r\n            created_date.getFullYear() +\r\n            \" \" +\r\n            created_date.getHours() +\r\n            \":\" +\r\n            created_date.getMinutes();\r\n          // category.postitem.findOne({createdBy: item.createdBy}).populate('name')\r\n          // .exec(function (err, story) {\r\n          //   if (err) return err\r\n          //   console.log('The author is %s', story);\r\n          //   // prints \"The author is Ian Fleming\"\r\n          // });\r\n          // console.log(item.itemPictures[0].img)\r\n          if (item.type === \"Lost\" && item.status === true) {\r\n            let user = false;\r\n            if (item.createdBy === user_info._id) {\r\n              user = true;\r\n            }\r\n            // console.log(item)\r\n            // console.log(\"Lost item \"+user+item.name)\r\n            // console.log(`http://localhost:5000/${item.itemPictures[0].img}`)\r\n            items.push(\r\n              <a\r\n                href={`/${item.name}?cid=${item._id}&type=${item.type}/${user}`}\r\n              >\r\n                <Col key={item.name} style={{ marginTop: \"2%\" }} md={3}>\r\n                  {/* <li key={item.name}>{item.name}</li>\r\n                <li key={item.description}>{item.description}</li> */}\r\n                  <Card bsPrefix=\"item-card\">\r\n                    <Card.Img\r\n                      variant=\"top\"\r\n                      src={`http://localhost:5000/${item.itemPictures[0].img}`}\r\n                    />\r\n                    <Card.Body bsPrefix=\"card-body\">\r\n                      <Card.Title\r\n                        style={{\r\n                          fontFamily: \"'Noto Sans JP', sans-serif\",\r\n                          fontWeight: \"1.35rem\",\r\n                        }}\r\n                      >\r\n                        Item :{item.name}\r\n                      </Card.Title>\r\n                      {/* <Card.Text>Type :{item.type}</Card.Text> */}\r\n                      {item.description ? (\r\n                        <Card.Text\r\n                          style={{\r\n                            fontFamily: \"'Noto Sans JP', sans-serif\",\r\n                            fontSize: \"1rem\",\r\n                          }}\r\n                        >\r\n                          {\" \"}\r\n                          Description :<ReadMore>{item.description}</ReadMore>\r\n                        </Card.Text>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                      <Card.Text\r\n                        style={{\r\n                          fontFamily: \"'Noto Sans JP', sans-serif\",\r\n                          fontSize: \"1rem\",\r\n                        }}\r\n                      >\r\n                        Created at : {createdAt}\r\n                      </Card.Text>\r\n                      {/* <Card.Text>\r\n                      Created by :{item.createdBy}\r\n                    </Card.Text> */}\r\n                    </Card.Body>\r\n                    {/* <ListGroup className=\"list-group-flush\">\r\n                    <ListGroupItem>Cras justo odio</ListGroupItem>\r\n                    <ListGroupItem>Dapibus ac facilisis in</ListGroupItem>\r\n                    <ListGroupItem>Vestibulum at eros</ListGroupItem>\r\n                  </ListGroup>\r\n                  <Card.Body>\r\n                    <Card.Link href=\"#\">Card Link</Card.Link>\r\n                    <Card.Link href=\"#\">Another Link</Card.Link>\r\n                  </Card.Body> */}\r\n                  </Card>\r\n                </Col>\r\n              </a>\r\n            );\r\n          } else {\r\n            var user1 = false;\r\n            if (item.createdBy === user_info._id) {\r\n              user1 = true;\r\n            }\r\n            // console.log(\"Lost item \"+user1+item.name)\r\n\r\n            Found_items.push(\r\n              <a\r\n                href={`/${item.name}?cid=${item._id}&type=${item.type}/${user1}`}\r\n              >\r\n                <Col style={{ marginTop: \"2%\" }} md={3}>\r\n                  {/* <li key={item.name}>{item.name}</li>\r\n                <li key={item.description}>{item.description}</li> */}\r\n                  <Card bsPrefix=\"item-card\" key={item.name}>\r\n                    <Card.Img\r\n                      variant=\"top\"\r\n                      src={`http://localhost:5000/${item.itemPictures[0].img}`}\r\n                    />\r\n                    <Card.Body bsPrefix=\"card-body\">\r\n                      <Card.Title\r\n                        style={{\r\n                          fontFamily: \"'Noto Sans JP', sans-serif\",\r\n                          fontWeight: \"1.35rem\",\r\n                        }}\r\n                      >\r\n                        Item :{item.name}\r\n                      </Card.Title>\r\n                      {/* <Card.Text>Type :{item.type}</Card.Text> */}\r\n                      {item.description ? (\r\n                        <Card.Text\r\n                          style={{\r\n                            fontFamily: \"'Noto Sans JP', sans-serif\",\r\n                            fontSize: \"1rem\",\r\n                          }}\r\n                        >\r\n                          {\" \"}\r\n                          Description :<ReadMore>{item.description}</ReadMore>\r\n                        </Card.Text>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                      <Card.Text\r\n                        style={{\r\n                          fontFamily: \"'Noto Sans JP', sans-serif\",\r\n                          fontSize: \"1rem\",\r\n                        }}\r\n                      >\r\n                        Created at : {createdAt}\r\n                      </Card.Text>\r\n                      {/* <Card.Text>\r\n                      Created by :{item.createdBy}\r\n                    </Card.Text> */}\r\n                    </Card.Body>\r\n                    {/* <ListGroup className=\"list-group-flush\">\r\n                    <ListGroupItem>Cras justo odio</ListGroupItem>\r\n                    <ListGroupItem>Dapibus ac facilisis in</ListGroupItem>\r\n                    <ListGroupItem>Vestibulum at eros</ListGroupItem>\r\n                  </ListGroup>\r\n                  <Card.Body>\r\n                    <Card.Link href=\"#\">Card Link</Card.Link>\r\n                    <Card.Link href=\"#\">Another Link</Card.Link>\r\n                  </Card.Body> */}\r\n                  </Card>\r\n                </Col>\r\n              </a>\r\n            );\r\n          }\r\n        });\r\n        setitem(items);\r\n        setFound_item(Found_items);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Error :\", err);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Navbar />\r\n        <h2\r\n          style={{\r\n            fontFamily: \"'Noto Sans JP', sans-serif\",\r\n            marginLeft: \"5px\",\r\n          }}\r\n        >\r\n          Welcome {user_info.firstname} 👋!\r\n        </h2>\r\n      </div>\r\n      <div>\r\n        <Container fluid>\r\n          <h2 style={{ textAlign: \"center\" }}>Lost items :</h2>\r\n          <div className=\"title-border\"></div>\r\n          <Row>{item}</Row>\r\n        </Container>\r\n      </div>\r\n      <div>\r\n        <Container fluid>\r\n          {Found_item ? (\r\n            <div>\r\n              <h2 style={{ textAlign: \"center\" }}>Found items :</h2>\r\n              <div className=\"title-border\"></div>\r\n              <Row>{Found_item}</Row>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </Container>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}